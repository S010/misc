Задача

Разработать информационную систему для гостиницы.


Анализ предметной области

Гостиница как и любой другой бизнес может только выиграть от введения современной информационной системы. Наличие информационной системы снижает бюрократическую нагрузку на персонал и позволяет бизнесу быстрее оперировать.


Разберём вкратце как работает типичная гостиница.

У гостиницы во владении находится некоторое здание со специально подготовленными отдельными помещениями – гостиничными номерами. В номерах в зависимости от стоимости может быть разное количество комнат, мебель, отделка и бытовая техника разного качества и так далее.
Постояльцы обычно заранее резервируют себе номера по интернету или телефону. Обычно также можно и просто придти в гостиницу и снять номер, но есть риск что свободных номеров может и не быть.
После того как постояльцы уезжают, номер тщательно убирают, стирают бельё, заменяют одноразовые вещи.
В гостинице работает персонал который можно разделить на три группы: ресепшн, уборщицы и технические работники.


Итак, в системе нам нужно будет учитывать следующие сущности.

Гостиничные номера.
О гостиничном номере можно было бы хранить и обрабатывать следующую информацию: количество комнат, стоимость съёма за один день, присутствующий в комнате инвентарь (мебель, бытовая техника и т. д.), количество ванных и туалетов, этаж здания на котором находится номер, номер который написан на двери.


Постояльцы.
О постояльцах нужно будет хранить как минимум их имя и фамилию. Можно было бы сохранять телефон или адрес электронной почты постояльца, чтобы можно было с ним связаться в случае возникновения каких-либо проблем.

Резервации.
О резервациях нужно знать: время начиная с которого номер зарезервирован и время конца резервации, номер который зарезервирован, личные данные человека на чьё имя сделана резервация (имя, фамилия, контакты).

Персонал.
О персонале нужно будет хранить следующую информацию: имя, фамилия, персональный код, размер зарплаты, занимаемая должность.

Инвентарь.
Об инвентаре нужно будет хранить следующую информацию: тип инвентаря, некоторый уникальный идентификатор вроде артикула, номер в котором инвентарь находится.

Составим концептуальную модель базы данных при помощи ER-диаграмм Чена.

Продумаем сущности более детально.

Номера.
У сущности «номера» будут следующие атрибуты:
Номер – атрибут типа number, также будет первичным ключем. Номера комнатам можно присваивать по следующему принципу: первая цифра – этаж на котором находится, далее следует порядковый номер комнаты на этаже.
Количество комнат – атрибут типа number.
Количество ванных комнат – атрибут типа number.
Количество туалетов – атрибут типа number.

Постояльцы.
Имя – атрибут типа text.
Фамилия – атрибут типа text.
Персональный код – атрибут типа text, который также сделаем ключевым атрибутом.
Телефон – необязательный атрибут, типа text.
Адрес электронной почты – необязательный атрибут типа text.

Резервации.
Дата начала – атрибут типа дата.
Дата конца – атрибут типа дата.
Гостиничный номер – атрибут типа число.
Персональный код – атрибут типа текст.

Инвентарь.
Тип – атрибут типа текст.
Гостиничный номер – атрибут типа число.
Артикул – атрибут типа текст.

Персонал.
Имя – атрибут типа текст.
Фамилия – атрибут типа текст.
Персональный код – атрибут типа текст.
Размер зарплаты в час – атрибут типа число.
Занимаемая должность – атрибут типа текст.

Уже сейчас, не прибегая к процессу формальной нормализации, можно заметить некоторые неудачные моменты.
Атрибут «Тип» у сущности Инвентарь лучше вынести в отдельную сущность, иначе возможна ситуация когда из-за опечатки в отношении будут два кортежа с разными типами в то время как он должен был быть одинаковым. Если мы вынесем атрибут «Тип» в отдельную сущность, пользователю можно будет предлагать выбрать тип из меню. Всё то же самое касается и атрибута «Должность» сущности Персонал.


Выполним нормализацию отношений.
